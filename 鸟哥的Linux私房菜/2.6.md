# Linux的文件与目录管理

文件和目录管理的命令不在这里记录

## 执行文件路径的变量：$PATH

当我们执行一个命令的时候，系统会依照PATH的设置取去每个PATH定义的目录下命令的可执行文件，如果有多个，那么先查找到的同名命令先被执行

查看PATH：

```shell
echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
```

## 文件和目录的默认权限

查看文件或目录的权限默认值

```shell
umask
0022
```

0022: 第一位是特殊权限，后三位和普通权限有关，文件默认权限为777减去后三位所得到的权限

## chattr（配置文件隐藏属性）

|标识|描述|
-|-
+|增加一个特殊参数
-|删除一个特殊参数
=|直接设置参数
A|存取此文件时，它的存取时间atime将不会修改
S|一般文件是非同步写入磁盘的，加上S后，当你进行任何文件的修改，修改会同步写入磁盘中
a|文件只能增加数据，不能删除和修改
c|自动将此文件压缩，读取的时候会自动解压缩
d|当dump程序被执行的时候，设置d属性将可使该文件不会被dump备份
i|让文件不能被删除、改名、设置链接也无法写入或新增数据
s|如果文件被删除，它将会被完全的从硬盘删除，完全无法恢复
u|如果文件被删除，数据内容还存在磁盘中，可以恢复

lsattr：显示文件隐藏属性

```shell
chattr +aiS file
lsattr file
```

## 文件特殊权限：SUID、SGID、SBIT

+ SUID

当s这个标志出现在文件拥有者的x权限上时（-rwsr-xr-x），此时被成为Set UID，简称SUID权限：

1. SUID权限仅对二进制程序有效
2. 执行者对于该程序需要具有x的可执行权限
3. 本权限仅在执行该程序的过程中有效
4. 执行者将具有该程序拥有者的权限

+ SGID

当s标志在文件拥有者的x项为SUID，那s再用户组的x时（-rwsr-sr-x）则称为Set GID（SGID），与SGID不同的是，SGID可以针对文件或目录来设置：

1. SGID权限仅对二进制程序有效
2. 执行者对于该程序需要具有x的可执行权限
3. 执行者将具有该程序用户组的支持

+ Sticky Bit

目前只针对目录有效（drwxr-xr-t）：

1. 当用户对于此目录有w，x权限，即具有写入的权限
2. 当用户在该目录下建立文件或目录时，仅有自己与root才有权力删除该文件

+ SUID/SGID/SBIT权限设置

|权限|数值|
-|-
SUID|4
SGID|2
SBIT|1

在权限的三位数前面再加一位，就代表这三个特殊权限

当user、group、other都没有x这个可执行的权限时（666），特殊权限的对应的权限会显示为S和T
